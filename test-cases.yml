---
- summary: |
    Проверка создания игры без регистрации
  requirement: |
    Пользователь должен иметь возможность провести тестовый батл без регистрации/авторизации
  prerequisites: |
    empty
  test-data: |
    empty
  steps:
    - Заходим на главную страницу
    - Нажимаем на кнопку "try simple battle"
  expected-result: |
    У пользователя открывается страница с баттлом

- summary: |
    Проверка регистрации пользователя с валидными данными
  requirement: |
    Пользователь должен иметь возможность авторизации/регистрации на сайте
  prerequisites:
    Открыта страница регистрации https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    Логин = Wakeup337 Пароль = goodpassword Email = jaylode42@yandex.ru
  steps:
    - Вводим логин
    - Вводим email
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Проверка регистрации пользователя с невалидными данными
  requirement: |
    Пользователь должен получить сообщение об ошибке при вводе невалидных данных при регистрации
  prerequisites:
    Открыта страница регистрации https://codebattle.hexlet.io/users/new?locale=en&next=%2F
  test-data: |
    Логин = вгрысгтлагрв Пароль = хорошийпароль email = jaylode42@yandex.ru
  steps:
    - Вводим логин
    - Вводим email
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен получить сообщение об ошибке

- summary: |
    Проверка входа пользователя с существующими логином и паролем 
  requirement: |
    При верном вводе логине и пароля пользователь должен войти в систему
  prerequisites: |
    Открыта страница логина https://codebattle.hexlet.io/session/new?locale=en&next=%2F
  test-data: |
    Email = jaylode42@yandex.ru Пароль = goodpassword
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен попасть на главную страницу

- summary: |
    Проверка входа пользователя с несуществующими логином и паролем
  requirement: |
    При неправильном логине или пароле пользователь должен получить сообщение об ошибке
  prerequisites:
    Открыта страница логина https://codebattle.hexlet.io/session/new?locale=en&next=%2F
  test-data: |
    Email = jaylode7382372@yandex.ru Пароль = goodpass
  steps:
    - Вводим логин
    - Вводим пароль
    - Нажимаем кнопку «Submit»
  expected-result: |
    Пользователь должен получить сообщение об ошибке

- summary: |
    Проверка авторизации пользователя через github
  requirement: |
    Пользователь должен иметь возможность авторизации через github/discord
  prerequisites:
    Открыта страница логина https://codebattle.hexlet.io/session/new?locale=en&next=%2F
    Пользователь имеет аккаунт на гитхабе
  test-data: |
    Empty
  steps:
    - Нажимаем на странице логина "Sign in with github"
    - Подтверждаем вход через аккаунт
  expected-result: |
    Пользователь попадает на главную страницу

- summary: |
    Проверка авторизации пользователя через discord
  requirement: |
    Пользователь должен иметь возможность авторизации через github/discord
  prerequisites:
    Открыта страница логина https://codebattle.hexlet.io/session/new?locale=en&next=%2F
    Пользователь имеет аккаунт в дискорде
  test-data: |
    Empty
  steps:
    - Нажимаем на странице логина "Sign in with discord"
    - Подтверждаем вход через аккаунт
  expected-result: |
    Пользователь попадает на главную страницу

- summary: |
    Проверка возможности создания игры против бота
  requirement: |
    Пользователь должен иметь возможность создавать игры против ботов
  prerequisites:
    Пользователь авторизован
  test-data: |
    Empty
  steps:
    - На главной странице нажимаем "Create a game"
    - Устанавливаем level - 1
    - Выбираем game type - "With a bot"
    - Устанавливаем Time control - 8 min
    - В поле "Choose task by name or tags" оставляем значение по умолчанию
    - Нажимаем кнопку "Create battle"
  expected-result: |
    У пользователя открывается страница с созданным баттлом

- summary: |
    Проверка возможности приглашения конкретного пользователя в игру
  requirement: |
    Пользователь должен иметь возможность пригласить друга в игру
  prerequisites:
    Пользователи авторизованы
  test-data: |
    Empty
  steps:
    - На главной странице нажимаем "Create a game"
    - Устанавливаем level - 1
    - Выбираем game type - "With a friend"
    - Устанавливаем Time control - 8 min
    - Выбираем оппонента по нику в поле "Choose opponent"
    - В поле "Choose task by name or tags" оставляем значение по умолчанию
    - Нажимаем кнопку "Create invite"
  expected-result: |
    Другому выбранному пользователю приходит инвайт в игру  

- summary: |
    Проверка возможности вступления в открытые игры других пользователей
  requirement: |
    Пользователь должен иметь возможность вступать в открытые игры
  prerequisites:
    Пользователь авторизован
  test-data: |
    Empty
  steps:
    - На главной странице открыть вкладку "lobby"
    - Нажать "Fight" на любой доступной открытой игре
  expected-result: |
    Пользователь присоединился к игре 

- summary: |
    Проверка возможности отправки приватных сообщений
  requirement: |
    Пользователь должен иметь возможность отправлять приватные сообщения
  prerequisites:
    Пользователи авторизованы
  test-data: |
    Empty
  steps:
    - На главной странице открыть вкладку "lobby"
    - Нажать на значок письма "Send message" в блоке с онлайн-пользователями
    - Выбрать из списка любого доступного пользователя
    - Написать любое сообщение в открывшемся приватном канале
    - Нажать "send"
  expected-result: |
    Пользователю отправлено приватное сообщение 

- summary: |
    Проверка ожидания соперника в созданной игре
  requirement: |
    Пользователь должен иметь возможность создавать сам игры и ждать соперника
  prerequisites:
    Пользователи авторизованы
  test-data: |
    Empty
  steps:
    - На главной странице нажимаем "Create a game"
    - Устанавливаем level - 1
    - Выбираем game type - "With other user"
    - Устанавливаем Time control - 8 min
    - В поле "Choose task by name or tags" оставляем значение по умолчанию
    - Нажимаем кнопку "Create battle"
  expected-result: |
    Создается игра в статусе ожидания соперника    
